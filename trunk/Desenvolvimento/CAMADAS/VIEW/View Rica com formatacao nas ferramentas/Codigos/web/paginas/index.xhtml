<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>

    </h:head>

    <h:body>
        <p:growl id="messages" life="5000"/>

        <div id="page">

            <div id="header">
                <ui:insert name="header" >
                    <ui:include src="header.xhtml" />
                </ui:insert>
            </div>

            <div id="content">
                <br/>
                <h:form id="mainForm">
                    <p:panel header="Atividades" style="width: 40%;height: 70%;float:left">
                        <p:tabView>
                            <p:tab title="Tradicional">
                                <h:outputText value="Atividade X"/><br/>
                                <h:outputText value="Atividade Z"/>
                            </p:tab>
                            <p:tab title="Ágil">
                                <h:outputText value="Atividade T"/><br/>
                            </p:tab>
                            <p:tab title="Ambos">
                                <h:outputText value="Atividade B"/><br/>
                                <h:outputText value="Atividade H"/><br/>
                                <h:outputText value="Atividade Q"/>
                            </p:tab>
                        </p:tabView>
                    </p:panel>
                    <p:panel style="width: 40%;height: 35%;float: right">
                        <f:facet name="header">
                            <h:outputText value="Projetos"/>
                            <p:commandButton value="Novo" style="float: right" actionListener="#{projetoBean.preparaNovo()}" update=":projetoForm:projetoDialog" oncomplete="projetoDialog.show()"/>
                        </f:facet>
                        <p:scrollPanel style="width: 100%;height: 100px" mode="native">
                            <p:dataGrid value="#{projetoBean.listaProjetos}" columns="1" var="projeto">

                                <h:outputText value="#{projeto.nome}"/>

                            </p:dataGrid>
                        </p:scrollPanel>

                    </p:panel>
                    <p:panel header="Minhas Atividades" style="width: 40%;height: 35%;float: right">
                        <p:commandLink value="Elaborar um documento de requisitos" action="#" style="color: blue"/><br/>
                        <p:commandLink value="Elaborar um termo de abertura do projeto" action="#" style="color: blue"/>

                    </p:panel>
                </h:form>

                <h:form id="projetoForm">
                    <p:dialog header="Cadastro de Projeto" modal="true" resizable="false" closable="false" widgetVar="projetoDialog" id="projetoDialog">
                        <p:panelGrid columns="1">

                            <h:outputText value="Nome do Projeto:"/>
                            <p:inputText value="#{projetoBean.selected.nome}" required="true" requiredMessage="Informe o nome do projeto!"/>
                            <h:outputText value="Descrição:"/>
                            <p:inputTextarea value="#{projetoBean.selected.descricao}" required="true" requiredMessage="Informe a descrição do projeto!"/>
                            <center>
                                <p:commandButton value="Salvar" actionListener="#{projetoBean.insert()}" onsuccess="projetoDialog.hide();" update=":mainForm :messages"/>
                            </center>

                        </p:panelGrid>
                    </p:dialog>
                </h:form>
            </div>

            <div id="footer">

            </div>

        </div>

    </h:body>
</html>

